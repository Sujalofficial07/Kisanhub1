- name: Checkout
  uses: actions/checkout@v4

- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: '18'

- name: Install deps
  run: npm install

- name: Setup JDK
  uses: actions/setup-java@v4
  with:
    java-version: '17'
    distribution: 'temurin'

- name: Setup Android SDK
  uses: android-actions/setup-android@v2
  with:
    api-level: 33
    build-tools: '33.0.2'

- name: Make gradlew executable
  run: chmod +x android/gradlew

- name: Build APK
  working-directory: android
  run: ./gradlew assembleDebug

- name: Upload APK
  uses: actions/upload-artifact@v4
  with:
    name: app-debug-apk
    path: android/app/build/outputs/apk/debug/app-debug.apk
    
